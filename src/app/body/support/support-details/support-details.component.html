<div class="back mt-5 pt-5 pb-5">
    <h1 class="text-center pt-3">Global Support Request Details</h1>
    <div class="container mt-3" *ngIf="supportService.support">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2">Ticket Id: </h6>
                        </div>
                        <div class="col-sm-3 mb text-secondary">
                            <input type="text" class="form-control" [(ngModel)]="supportService.support.TicketId"
                                disabled />
                        </div>
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2">Type: </h6>
                        </div>
                        <div class="col-sm-5 text-secondary">
                            <input type="text" class="form-control" [(ngModel)]="supportService.support.SupportType"
                                disabled />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2">Opened By: </h6>
                        </div>
                        <div class="col-sm-3 mb text-secondary">
                            <input type="text" class="form-control" [(ngModel)]="supportService.support.Name"
                                disabled />
                        </div>
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2"> Opened </h6>
                        </div>
                        <div class="col-sm-5 text-secondary">
                            <input type="text" class="form-control" readonly="readonly"
                                value="{{supportService.support.Date}} {{supportService.support.Time}}" disabled />

                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2">State </h6>
                        </div>
                        <div class="col-sm-3 mb text-secondary">
                            <input type="text" class="form-control" [(ngModel)]="supportService.support.State"
                                disabled />
                        </div>
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2"> Assigned To </h6>
                        </div>
                        <div class="col-sm-5 text-secondary">
                            <input type="text" class="form-control" [(ngModel)]="supportService.support.AssignedTo"
                                disabled />

                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-2">
                            <h6 class="mb-0 pt-2">Description </h6>
                        </div>
                        <div class="col-sm-10 mb text-secondary">
                            <input type="text" class="form-control" [(ngModel)]="supportService.support.Message"
                                disabled />
                        </div>
                    </div>

                    <div class="row pt-5 mt-4 text-center">
                        <div class="col-md-2"></div>
                        <!-- <div class="card col-md-8 border-3" style="border-color: #ef3789;">
                            <div class="card-title fs-6 pt-1">
                                <b>Support Chat</b>
                            </div>
                            <div class="card-body">
                                <ng-container *ngFor="let activity of activityService.activities">

                                    <div
                                        [ngClass]="{'border rounded col-8': true, 'text-end':activity.Sendor==='user','text-start':activity.Sendor==='admin'}">
                                        {{activity.Message}}</div>

                                </ng-container>

                                <div class="input-group mt-3">
                                    <input type="text" class="form-control" placeholder="Type Your Message Here"
                                        aria-describedby="button-addon2" [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="messageSent">
                                    <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                                        (click)="sendMessage(supportService.support.TicketId)">Send Message</button>
                                </div>
                            </div>
                        </div> -->
                        <div class=" col-md-8 ">
                            <div class="card-title">
                               <h2> <b>Support Chat</b></h2>
                            </div>
                            <div class="containeri">
                                <div class="chatbox">
                                    <div *ngFor="let activity of activityService.activities">
                                        <div *ngIf="activity.Sendor=='user'">
                                            <div class="chat chatReverse" >
                                                <img src="{{authService.user.photoURL}}" onerror= "this.src = '../../assets/defaultavatar.jpg'" alt="">
                                                <p class="msg">
                                                    {{activity.Message}}
                                                </p>
                                            </div>
                                        </div>
                                        <div *ngIf="activity.Sendor=='admin'">
                                            <div class="chat">
                                                <img src="" alt="">
                                                <p class="msg">
                                                    {{activity.Message}}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="input-group mt-3">
                                        <input type="text" class="form-control" placeholder="Type Your Message Here"
                                            aria-describedby="button-addon2" [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="messageSent">
                                        <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                                            (click)="sendMessage(supportService.support.TicketId)"> <mat-icon aria-hidden="false" id="send">send</mat-icon></button>
                                    </div>
                        </div>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                </div>
            </div>
        </div>
</div>